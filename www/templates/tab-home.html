<ion-side-menus>
    <ion-side-menu-content>
        <ion-view>
            <ion-content class="home">
                <div class="home-overlay"></div>

                <form ng-submit="fetchData()">
                    <div class="list">
                        <label class="item item-input item-floating-label">
                            <span class="input-label">Which city are you in?</span>
                            <input class="city" type="text" placeholder="Which city are you in?" ng-model="config.city" required autofocus>
                        </label>
                    </div>
                </form>

                <div class="weather-info">
                    <div class="weather-today" ng-show="data.today">
                        <div class="item item-text-wrap" style="text-align: center">
                            <h1 class="now">
                                {{ data.today.main.temp | number:0 }}<span class="deg">&deg;</span>
                            </h1>

                            <canvas skycon class="weather-icon" ng-if="data.today.weather[0].icon" icon="data.today.weather[0].icon"  width="250" height="250"></canvas>

                            <p>
                                <span><strong>H</strong> {{ data.today.main.temp_max | number:0 }}</span>
                                <span><strong>L</strong> {{ data.today.main.temp_min | number:0 }}</span>
                            </p>
                            <p>Humidity: {{ data.today.main.humidity }}%</p>
                            <p>Wind: {{ data.today.wind.speed }} m/s</p>
                        </div>

                        <div class="item item-icon-left" ng-repeat="forecast in data.forecasts" ng-show="data.forecasts">
                            <i class="icon">
                                <canvas skycon icon="forecast.weather[0].icon" width="32" height="32"></canvas>
                            </i>

                            {{ (forecast.dt * 1000) | date:"EEEE" }}

                    <span style="text-align: right">
                        <strong>H</strong> {{ forecast.temp.max | number:0 }}
                        <strong>L</strong> {{ forecast.temp.min | number:0 }}
                    </span>
                        </div>
                    </div>
                </div>

                <div class="weather-error" ng-show="data.error">
                    <div class="alert alert-danger">
                        {{ data.error }}
                    </div>
                </div>

                <button class="button button-full button-positive" ng-show="data.today" ng-click="addCity()">
                    Save
                </button>
            </ion-content>
        </ion-view>
    </ion-side-menu-content>

    <ion-side-menu side="left">
        <ion-list>
            <ion-item ng-repeat="city in cities">
                <a ng-click="show(city)">{{ city }}</a>
            </ion-item>
        </ion-list>
    </ion-side-menu>
</ion-side-menus>
